
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Usuarios</title>
</h:head>

<h:body>

<h:form>
    <p:panel header="Nuevo Usuario">
        <p:inputText value="#{userBean.user.username}" placeholder="Usuario"/>
        <p:inputText value="#{userBean.user.email}" placeholder="Email"/>
        <p:commandButton value="Guardar" action="#{userBean.save}" update="@form"/>
    </p:panel>

    <p:panel header="Buscar">
        <p:inputText value="#{userBean.filter}" placeholder="Nombre"/>
        <p:commandButton value="Buscar" action="#{userBean.search}" update="tabla"/>
    </p:panel>

    <p:dataTable id="tabla" value="#{userBean.users}" var="u">
        <p:column headerText="ID">#{u.id}</p:column>
        <p:column headerText="Usuario">#{u.username}</p:column>
        <p:column headerText="Email">#{u.email}</p:column>
        <p:column>
            <p:commandButton value="Eliminar" action="#{userBean.delete(u)}" update="@form"/>
        </p:column>
    </p:dataTable>
</h:form>

</h:body>
</html>
